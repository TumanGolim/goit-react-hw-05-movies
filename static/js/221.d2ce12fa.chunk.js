"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[221],{221:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var s=r(791),n=r(87),i=r(294),a=r(184);function c(){const[e,t]=(0,s.useState)([]),[r,c]=(0,n.lr)(),[o,l]=(0,s.useState)(r.get("query")||""),u=r.get("query")||"*";(0,s.useEffect)((()=>{u&&"*"!==u&&h(u).then((e=>{if(!e.total_results)return alert("Sorry, we didn't find any results for ".concat(u,"."));t(e.results)})).catch((e=>console.log(e)))}),[u]);const h=async e=>{try{return(await i.Z.get("https://api.themoviedb.org/3/search/movie?api_key=6275ff62c216e0d575843f8efbbe5c76&query=".concat(e))).data}catch(t){throw t}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.rU,{to:"/",children:"Home"}),(0,a.jsx)(n.rU,{to:"/movies",children:"Movies"})]}),(0,a.jsx)("h2",{children:"Search Movies"}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o.trim())return alert("Sorry, but we cannot find an empty string. You should write something.");c({query:o})},children:[(0,a.jsx)("input",{type:"text",value:o,onChange:e=>{l(e.target.value)}}),(0,a.jsx)("button",{type:"submit",children:"Search"})]}),(0,a.jsx)("ul",{children:e.map((e=>(0,a.jsx)("li",{children:(0,a.jsx)(n.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)))})]})}}}]);
//# sourceMappingURL=221.d2ce12fa.chunk.js.map