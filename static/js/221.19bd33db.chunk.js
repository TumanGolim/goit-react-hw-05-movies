"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[221],{221:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var s=r(791),a=r(294),o=r(689),c=r(87),i=r(184);const l=()=>{const e=(0,o.s0)(),t=(0,o.TH)(),[r,l]=(0,s.useState)(""),[n,h]=(0,s.useState)([]);return(0,s.useEffect)((()=>{const e=new URLSearchParams(t.search).get("query")||"";l(e),localStorage.setItem("previousPage","movies"),localStorage.setItem("query",e);const r=localStorage.getItem("previousMovies");r&&h(JSON.parse(r))}),[t.search]),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(c.rU,{to:"/",children:"Home"}),(0,i.jsx)(c.rU,{to:"/movies",children:"Movies"})]}),(0,i.jsx)("h2",{children:"Search Movies"}),(0,i.jsx)("input",{type:"text",value:r,onChange:e=>{l(e.target.value)}}),(0,i.jsx)("button",{onClick:async()=>{try{const s=(await a.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("6275ff62c216e0d575843f8efbbe5c76","&query=").concat(r))).data.results,o=new URLSearchParams(t.search);o.set("query",r),localStorage.setItem("previousPage","movies"),localStorage.setItem("query",r),h(s),localStorage.setItem("previousMovies",JSON.stringify(s)),e("?".concat(o.toString()))}catch(s){console.error("Error searching movies:",s)}},children:"Search"}),(0,i.jsx)("ul",{children:n.map((e=>(0,i.jsx)("li",{children:(0,i.jsx)(c.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)))})]})}}}]);
//# sourceMappingURL=221.19bd33db.chunk.js.map